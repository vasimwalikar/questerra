$(document).ready(function(){function a(a,d){a.submit(function(e){if(e.preventDefault(),b(a))d.html("Subscribing..."),c(a,d);else{var f="A valid email address must be provided.";d.html(f)}})}function b(a){var b=a.find("input[type='email']").val();return!(!b||!b.length)&&-1!=b.indexOf("@")}function c(a,b){b.text(""),a.addClass("loading");var c=a.attr("action"),d={action:"submit_form",data:a.serialize()};$.ajax({url:"/wp-admin/admin-ajax.php",data:d,type:"POST",success:function(d){a.removeClass("loading"),b.addClass("active"),"please_verify_that_you_are_not_a_robot"==d?(b.text("Please verify that you are not a robot"),window.setTimeout(function(){b.removeClass("active")},4e3)):"wrong_google_recaptcha_response"==d?(b.text("Wrong google recaptcha response. Keys are set up incorrectly or you are considered as a robot."),window.setTimeout(function(){b.removeClass("active")},1e4)):d?$.ajax({type:"POST",url:c,data:a.serialize(),cache:!1,dataType:"jsonp",jsonp:"c",contentType:"application/json; charset=utf-8",error:function(a){},success:function(c){if("success"!=c.result){var d=c.msg||"Sorry. Unable to subscribe. Please try again later.";c.msg&&c.msg.indexOf("already subscribed")>=0&&(d="You're already subscribed. Thank you."),b.html(d)}else b.html("Thank you! Confirm the subscription in your inbox.");window.setTimeout(function(){b.removeClass("active")},6e3),a.find("input, select, textarea").not('input[type="hidden"]').val("")}}):(b.removeClass("active"),a.find("input, select, textarea").not('input[type="hidden"]').val(""))}})}a($(".subscribe-form"),$(".subscribe-form .form-results"))})